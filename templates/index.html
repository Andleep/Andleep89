<!-- templates/index.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>TradeBot — Simulation</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="/static/app.js"></script>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="container">
    <h2>TradeBot — Simulation (Pure Python)</h2>

    <div class="controls">
      <label>Initial balance $: <input id="initial_balance" value="10"></label>
      <label>K neighbors: <input id="k" value="8"></label>
      <label>Lookback bars: <input id="lookback" value="200"></label>
      <label>Risk % per trade: <input id="risk_pct" value="0.02"></label>
      <label>Stop ATR mult: <input id="stop_atr" value="1.0"></label>
      <button id="load_sample">Load sample & Run</button>
      <input type="file" id="csvfile">
    </div>

    <div id="chart" style="height:500px;"></div>

    <div id="stats">
      <p>Balance: <span id="balance">-</span></p>
      <p>Trades: <span id="trades_count">0</span> Wins: <span id="wins">0</span> Losses: <span id="losses">0</span></p>
    </div>

    <h3>Trades (last)</h3>
    <table id="trades_table" border="1">
      <thead><tr><th>time</th><th>entry</th><th>exit</th><th>profit</th><th>balance_after</th><th>reason</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
</body>
</html>
